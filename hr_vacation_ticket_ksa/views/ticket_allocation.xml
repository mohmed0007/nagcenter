<odoo>
    <data>
        <record id="view_hr_flight_ticket_form_allocation" model="ir.ui.view">
            <field name="name">hr.flight.ticket.allocation.form</field>
            <field name="model">flight.ticket.allocation</field>
            <field name="priority" eval="0"/>
            <field name="arch" type="xml">
                <form string="Allocation Request">
                    <!--                <field name="can_reset" invisible="1"/>-->
                    <!--                <field name="can_approve" invisible="1"/>-->
                    <field name="holiday_type" invisible="1"/>
                    <header>
                                            <button string="Confirm" name="action_confirm" states="draft" type="object" class="oe_highlight"/>
                        <button string="Approve" name="action_approve" states="confirm" type="object" class="oe_highlight" attrs="{'invisible': [('state', '!=', 'confirm')]}"/>
                        <button string="Validate" name="action_validate" states="validate1" type="object" class="oe_highlight"/>
                        <button string="Refuse" name="action_refuse" type="object" attrs="{'invisible': [('state', 'not in', ('confirm','validate1','validate'))]}"/>
                        <button string="Mark as Draft" name="action_draft" type="object" attrs="{'invisible': [('state', 'not in', ['confirm', 'refuse'])]}"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirm,validate"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button class="oe_stat_button" icon="fa-money" type="action"
                                    name="247"
                                    help="Ticket Balance Taken/Total Allocated">
                                <div class="o_stat_info">
                                    <span class="o_stat_value">
                                        <field name="balance_taken" digits="[42,1]"/>/
                                        <field name="balance" digits="[42,1]"/>
                                    </span>
                                    <span class="o_stat_text">
                                        Ticket Balance
                                    </span>
                                </div>
                            </button>
                        </div>
                        <div class="oe_title">
                            <h2>
                                <field name="name" placeholder="e.g. Flight Ticket Allocation"
                                       attrs="{'readonly': [('state', 'not in', ('draft', 'confirm'))]}" required="1"/>
                            </h2>
                        </div>
                        <group>
                            <group>
<!--                                <field name="type_request_unit" invisible="1"/>-->
<!--                                <field name="holiday_status_id" context="{'employee_id':employee_id}" invisible="1"/>-->
                                <field name="allocation_type" widget="radio" invisible="1"/>
                                <field name="employee_id" attrs="{'readonly': [ ('state', 'not in', ('draft', 'confirm'))]}"/>
                                <label for="date_from" attrs="{'invisible': [('allocation_type', '=', 'regular')]}"/>
                                <div class="o_row" attrs="{'invisible': [('allocation_type', '=', 'regular')]}">
                                    <field name="date_from" widget="date" required="1" class="mr-2" attrs="{'readonly': [ ('state', 'not in', ('draft', 'confirm'))]}"/>
                                    Run until
                                    <field name="date_to" help="If no value set, runs indefinitely" class="ml-2"
                                           widget="date" attrs="{'readonly': [ ('state', 'not in', ('draft', 'confirm'))]}"/>
                                </div>
                                <label for="date_from" invisible="1"/>
                                <div attrs="{'invisible': [('allocation_type', '=', 'regular')]}">
                                    <div class="o_row">

<!--                                        <field name="unit_per_interval"-->
<!--                                                invisible="1"/>-->
                                        <span class="ml8">Every</span>
                                        <field name="interval_number" class="ml8"
                                               attrs="{'required': [('allocation_type', '=', 'accrual')]}"/>
                                        <field name="interval_unit"
                                               invisible="1" attrs="{'readonly': [ ('state', 'not in', ('draft', 'confirm'))]}"/>
                                        <span>Days add</span>
                                        <field name="amount_per_interval" class="ml8"
                                               attrs="{'required': [('allocation_type', '=', 'accrual')]}"/> SR
                                        <span class="ml8">of ticket balance</span>
                                    </div>
                                </div>
                                <field name="number_of_days_display" invisible="1"/>
                                <field name="number_of_days" invisible="1"/>
                                <div class="o_td_label">
                                    <label for="number_of_days_display" string="Duration"
                                           attrs="{'invisible': [('allocation_type', '=', 'accrual')]}"/>
                                    <label for="number_of_days_display" string="Extra Balance"
                                           attrs="{'invisible': [('allocation_type', '!=', 'accrual')]}"/>
                                </div>
                                <div>
                                    <field name="number_of_days_display" class="oe_inline" nolabel="1"
                                           attrs="{'readonly': [ ('state', 'not in', ('draft', 'confirm'))]}"/>

                                    <span class="ml8" >SR
                                    </span>
<!--                                    <span class="ml8" attrs="{'invisible': [('type_request_unit', '!=', 'hour')]}">-->
<!--                                        Hours-->
<!--                                    </span>-->
                                </div>
                            </group>
                            <group name="alloc_right_col">
                                <field name="holiday_type" string="Mode" context="{'employee_id':employee_id}"/>
                                <field name="department_id" attrs="{'readonly': [ ('state', 'not in', ('draft', 'confirm'))]}"/>
                                <field name="company_id" attrs="{'readonly': [ ('state', 'not in', ('draft', 'confirm'))]}"/>
                                <field name="accrual_limit" attrs="{'readonly': [ ('state', 'not in', ('draft', 'confirm'))]}"/>
                            </group>
                        </group>
                        <field name="notes" nolabel="1" placeholder="Add a reason..."/>
                    </sheet>
                    <!--                <div class="oe_chatter">-->
                    <!--                    <field name="message_follower_ids"/>-->
                    <!--                    <field name="activity_ids"/>-->
                    <!--                    <field name="message_ids"/>-->
                    <!--                </div>-->
                </form>
            </field>
        </record>


        <record id="action_hr_flight_tickets_allocation" model="ir.actions.act_window">
            <field name="name">Flight Tickets Allocation</field>
            <field name="res_model">flight.ticket.allocation</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem
                id="menu_hr_flight_tickets_allocation"
                name="Tickets Allocation"
                parent="menu_hr_flight_tickets_root"
                action="action_hr_flight_tickets_allocation"
                groups="hr_holidays.group_hr_holidays_manager"
                sequence="2"/>
    </data>
</odoo>